<?xml version="1.0" encoding="UTF-8"?>
<protocol name="z11">
  <copyright>TBD</copyright>

  <interface name="z11_compositor" version="1">
    <description summary="core global object for 3D client">TBD</description>

    <request name="create_render_block">
      <description summary="create new render block">TBD</description>
      <arg name="id" type="new_id" interface="z11_render_block" summary="the new render block" />
    </request>
  </interface>

  <interface name="z11_render_block" version="1">
    <description summary="set of information to render 3D object">TBD</description>

    <request name="destroy" type="destructor">
      <description summary="delete render block">TBD</description>
    </request>

    <request name="attach_vertex_buffer">
      <description summary="attach vertex buffer to the render block">TBD</description>
      <arg name="vertex_buffer" type="object" interface="z11_gl_vertex_buffer"/>
    </request>

    <request name="commit">
      <description summary="commit the render block">TBD</description>
    </request>
  </interface>

  <interface name="z11_gl" version="1">
    <description summary="Graphic library api">TBD</description>

    <request name="create_vertex_buffer">
      <description summary="Create a vertex buffer">TBD</description>
      <arg name="id" type="new_id" interface="z11_gl_vertex_buffer" summary="the new vertex buffer" />
    </request>
  </interface>

  <interface name="z11_gl_vertex_buffer" version="1">
    <description summary="vertex buffer">TBD</description>

    <request name="destroy" type="destructor">
      <description summary="delete vertex buffer">TBD</description>
    </request>

    <request name="allocate">
      <description summary="allocate memory">
        Allocate GPU memory for the vertex buffer. If memory has already been allocated, this request frees the memory.

        When buffer is not null, we will copy the content of the buffer to the allocated memory.
      </description>
      <arg name="size" type="int" summary="specifies the size in bytes of the buffer's new data store"/>
      <arg name="raw_buffer" type="object" interface="wl_raw_buffer" allow-null="true" summary="nullable"/>
    </request>
  </interface>
</protocol>
