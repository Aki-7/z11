= Contributing to Z11

== Getting started

Z11はLinuxで動作するので、開発環境もLinuxを用います.

ソースコードのビルドには link:https://mesonbuild.com/index.html[meson] を用います.

=== Custom Wayland

カスタマイズされたWaylandを使うので、https://github.com/gray-armor/wayland をインストールする。

....
$ git clone git@github.com:gray-armor/wayland.git
$ meson build
$ ninja -C build install
....

=== Build

このレポジトリをビルド

....
$ git clone git@github.com:gray-armor/z11.git
$ meson build
$ ninja -C build install
....

=== Run

新しくlibz11.soを作ったので、shared libraryの依存関係情報を更新する. (初回のみ)

....
$ ldconfig
....

run z server
....
$ XDG_RUNTIME_DIR=~/.xdg z11
....

run z client

立方体を画面に書きます。

....
$ XDG_RUNTIME_DIR=~/.xdg z11-simple-box -13 -1 20 # x y z
....

別のシェルで
....
$ XDG_RUNTIME_DIR=~/.xdg z11-simple-box 3 -11 15
....

=== Tip

Waylandで用いている通信内容をデバッグログとして出力することができます。
`WAYLAND_DEBUG` 環境変数に `1` を設定してください。
....
$ WAYLAND_DEBUG=1 XDG_RUNTIME_DIR=~/.xdg z11
....

=== Coding Style

基本的には link:https://google.github.io/styleguide/cppguide.html[Google C++ Style Guide] に則りますが、
いくつかの例外を `.clang-format` に記述しています。
